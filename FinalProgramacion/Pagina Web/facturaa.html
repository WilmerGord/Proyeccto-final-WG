<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" IE="edge">
    <link rel="stylesheet" href="estilo/estilo2.css">
    <title>Factura</title>

    <style>
        html {
            background-image: url("./imagenes/22.jpg");
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-size: cover;
        }

        .back {
            margin: 0 42%;
            padding: 14px 18px;
            background-color: #5c1515;
            color: white;
            border-radius: 4px;
            text-decoration: none;
        }

        .color {
            background-color: rgb(250, 244, 243);
        }

        .fact{
            border-radius: 4px;
        }
    </style>

    <script lang="javascript">

        // Function to calculate total for each item
        function calculateTotal(itemNumber) {
            var val = document.f1['val' + itemNumber].value;
            var quantity = document.f1['can' + itemNumber].value;
            var total = val * quantity;
            document.f1['tot' + itemNumber].value = `$ ${total.toFixed(2)}`;
            calculateTotalPayment(); // Recalculate total payment when any item changes
        }

        // Function to calculate discounts and total payment
        function calculateTotalPayment() {
            var total = 0;

            // Calculate the sum of all items
            for (var i = 1; i <= 6; i++) {
                total += parseFloat(document.f1['val' + i].value) * parseFloat(document.f1['can' + i].value) || 0;
            }

            // Display subtotal
            document.f1.subt.value = `$ ${total.toFixed(2)}`;

            // Calculate discount
            var discount = 0;
            if (total < 99000) {
                discount = 0;
            } else if (total >= 100000 && total < 180000) {
                discount = total * (3 / 100);
            } else if (total >= 190000 && total < 250000) {
                discount = total * (5 / 100);
            } else {
                discount = total * (10 / 100);
            }

            // Display discount and total to pay
            document.f1.des.value = `$ ${discount.toFixed(2)}`;
            document.f1.ToP.value = `$ ${(total - discount).toFixed(2)}`;
        }

    </script>
</head>

<body>

<nav>
    <ul>
        <a href="Index.html"><img src="./imagenes/01.png" alt="logo" style=" float: right; width: 200px; margin: 0 200px; "></a>
    </ul>
</nav>

<div class="social">
    <a href="+573008676270"><img src="./imagenes/34.png" alt="whatsApp"></a>
    <a href="facebook.com/orientacionatualcance"><img src="./imagenes/35.png" alt="facebook"></a>
    <a href="instagram.com/?hl=es-la"><img src="./imagenes/36.png" alt="Instagram"></a>
    <a href="orientacionatualcance@gmail.com"><img src="./imagenes/37.png" alt="Gmail"></a>
</div>

<center class="fact">
    <font face="helvetica">
        <form name=f1>
            <table border="0" cellspacing="1" width="800px" height="500px" style="background-color: #e9e1e0">
                <tr>
                    <th style="background-color: #f3f1e7;" colspan="5px">Factura Servicios Psicológicos</th>
                </tr>
                <tr>
                    <th>Nombre<br> <input type="text" size="15" placeholder="Nombre completo"></th>
                    <th>Telefono<br> <input type="text" size="15" placeholder="Telefono de contacto"></th>
                    <th>Direccion<br> <input type="text" size="15" placeholder="Dirección de residencia"></th>
                    <th>E-mail<br> <input type="text" size="15" placeholder="Correo electrónico"></th>
                </tr>
                <tr>
                    <th>Descripcion <br>
                        <select name="pro1" onclick="ver1()">
                            <option>Seleccione el servicio</option>
                            <option> Individual</option>
                            <option> Grupal</option>
                            <option> Pareja</option>
                            <option> Virtual y/o telefono </option>
                            <option> Asesorias al año</option>
                            <option> Talleres al año</option>
                        </select>
                    </th>
                    <th>Valor por sesión <br>
                        <input type="text" name="can1" size="15" class="color" oninput="calculateTotal(1)"></th>
                    <th>Cantidad de Sesiones <br>
                        <input type="text" name="val1" size="15" class="color" placeholder="Sesiones"></th>
                    <th>Total <br>
                        <input type="text" name="tot1" size="15" class="color" readonly></th>
                </tr>
                <tr>
                    <th>SUBTOTAL</th>
                    <th><input type="text" name="subt" size="15" class="color" readonly></th>
                </tr>
                <tr>
                    <th>Descuento</th>
                    <th><input type="text" name="des" size="15" readonly></th>
                </tr>
                <tr>
                    <th>Total a Pagar</th>
                    <th><input type="text" name="ToP" size="15" class="color" readonly></th>
                </tr>
                <tr>
                    <th><input type="button" value="Realizar Factura" name="cal" onclick="calculateTotalPayment()">
                    <th><input type="button" value="Limpiar Factura" name="lim">
                </tr>
            </table>
        </form>
</center>
<div>
    <a class="back" href="Index.html">Regresar al Inicio</a>
</div>
</body>
</html>
